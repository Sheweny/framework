import{_ as s,c as n,o as a,a as e}from"./app.f9fda631.js";const h=JSON.parse('{"title":"Updating from V1 to V2","description":"","frontmatter":{},"headers":[{"level":2,"title":"Sheweny Client","slug":"sheweny-client","link":"#sheweny-client","children":[]},{"level":2,"title":"Handlers","slug":"handlers","link":"#handlers","children":[{"level":3,"title":"Commands handler","slug":"commands-handler","link":"#commands-handler","children":[]},{"level":3,"title":"Inhibitors handler","slug":"inhibitors-handler","link":"#inhibitors-handler","children":[]},{"level":3,"title":"Events handler","slug":"events-handler","link":"#events-handler","children":[]},{"level":3,"title":"Buttons handler","slug":"buttons-handler","link":"#buttons-handler","children":[]},{"level":3,"title":"SelectMenus handler","slug":"selectmenus-handler","link":"#selectmenus-handler","children":[]}]},{"level":2,"title":"Structures","slug":"structures","link":"#structures","children":[{"level":3,"title":"Commands","slug":"commands","link":"#commands","children":[]}]}],"relativePath":"guide/topics/V1-V2.md","lastUpdated":1674849193000}'),o={name:"guide/topics/V1-V2.md"},l=e(`<h1 id="updating-from-v1-to-v2" tabindex="-1">Updating from V1 to V2 <a class="header-anchor" href="#updating-from-v1-to-v2" aria-hidden="true">#</a></h1><p><strong>Full changelog is avaiable on <a href="https://github.com/Sheweny/framework/master/dev/CHANGELOG.md" target="_blank" rel="noreferrer">Github</a></strong></p><h2 id="sheweny-client" tabindex="-1">Sheweny Client <a class="header-anchor" href="#sheweny-client" aria-hidden="true">#</a></h2><p>In this new version you will find new options:</p><ul><li><code>joinThreadsOnCreate</code> : This option makes the bot join threads when they are created.</li><li><code>mode</code> : This option allows to run the bot in production or development mode</li></ul><p>The way to access the collections has to change. Instead of <code>client.commands</code>, <code>client.events</code>, <code>client.buttons</code> etc you should do <code>client.collections.commands</code>, <code>client.collections.events</code>, <code>client.collections.buttons</code> etc</p><h2 id="handlers" tabindex="-1">Handlers <a class="header-anchor" href="#handlers" aria-hidden="true">#</a></h2><h3 id="commands-handler" tabindex="-1">Commands handler <a class="header-anchor" href="#commands-handler" aria-hidden="true">#</a></h3><p>in version 2 the message commands and interaction commands are loaded at the same time. You no longer need the <code>ApplicationCommandsHandler</code> and <code>MessagesCommandsHandler</code> handlers but only <code>CommandsManager</code>.</p><p>Version 2 also supports slash-command permissions. You can use the <code>registerPermissions</code> function of the CommandsManager class or place the <code>applicationPermissions: true</code> option in the constructor.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Actualy the permissions are only available for guilds. You can put an array of guilds ids in the function but discord no support the permissions for global commands.</p></div><p>Setup in client :</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ShewenyClient </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sheweny</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> client </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ShewenyClient</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">intents</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">GUILDS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">managers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">commands</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">directory</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./commands</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">guildId</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">877090306103840778</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Register commands and context-menus in this guild</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">prefix</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">applicationPermissions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><p>Setup with class :</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> ShewenyClient</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> CommandsManager </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">sheweny</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> client </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ShewenyClient</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">intents</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">GUILDS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> commandsHandler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">CommandsManager</span><span style="color:#A6ACCD;">(client</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./commands</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">prefix</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">commandsHandler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">loadAll</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">commandsHandler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">registerAllApplicationCommands</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">client</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">collections</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">commands</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">877090306103840778</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="inhibitors-handler" tabindex="-1">Inhibitors handler <a class="header-anchor" href="#inhibitors-handler" aria-hidden="true">#</a></h3><p>The <code>InhibitorsHandler</code> class has been renamed to <code>InhibitorsManager</code>.</p><h3 id="events-handler" tabindex="-1">Events handler <a class="header-anchor" href="#events-handler" aria-hidden="true">#</a></h3><p>The <code>EventsHandler</code> class has been renamed to <code>EventsManager</code>.</p><h3 id="buttons-handler" tabindex="-1">Buttons handler <a class="header-anchor" href="#buttons-handler" aria-hidden="true">#</a></h3><p>The <code>ButtonsHandler</code> class has been renamed to <code>ButtonsManager</code>.</p><h3 id="selectmenus-handler" tabindex="-1">SelectMenus handler <a class="header-anchor" href="#selectmenus-handler" aria-hidden="true">#</a></h3><p>The <code>SelectMenusHandler</code> class has been renamed to <code>SelectMenusManager</code>.</p><h2 id="structures" tabindex="-1">Structures <a class="header-anchor" href="#structures" aria-hidden="true">#</a></h2><h3 id="commands" tabindex="-1">Commands <a class="header-anchor" href="#commands" aria-hidden="true">#</a></h3><p>In version 2 you no longer need 2 types of structures for your orders. <code>ApplicationCommand</code> and <code>MessageCommand</code> merge to give <code>Command</code></p><p>Version 2 also supports arguments for message commands thanks to a new property: <code>args</code>. The <code>options</code> property for slash-commands is kept.</p><p>It is now necessary to specify the type of command each time in the commands. The available types are : <code>MESSAGE_COMMANDS</code> or <code>SLASH_COMMAND</code> or <code>CONTEXT_MENU_USER</code> or <code>CONTEXT_MENU_MESSAGE</code>.</p>`,28),p=[l];function t(c,r,d,i,D,y){return a(),n("div",null,p)}const C=s(o,[["render",t]]);export{h as __pageData,C as default};
